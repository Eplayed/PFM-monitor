(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("Pmonitorjs", [], factory);
	else if(typeof exports === 'object')
		exports["Pmonitorjs"] = factory();
	else
		root["Pmonitorjs"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayLikeToArray.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/classCallCheck.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/createClass.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/defineProperty.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/defineProperty.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/iterableToArray.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/iterableToArray.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/iterableToArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/nonIterableSpread.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/nonIterableSpread.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/nonIterableSpread.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/toConsumableArray.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/toConsumableArray.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayWithoutHoles = __webpack_require__(/*! ./arrayWithoutHoles */ \"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js\");\n\nvar iterableToArray = __webpack_require__(/*! ./iterableToArray */ \"./node_modules/@babel/runtime/helpers/iterableToArray.js\");\n\nvar unsupportedIterableToArray = __webpack_require__(/*! ./unsupportedIterableToArray */ \"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = __webpack_require__(/*! ./nonIterableSpread */ \"./node_modules/@babel/runtime/helpers/nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/toConsumableArray.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var arrayLikeToArray = __webpack_require__(/*! ./arrayLikeToArray */ \"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js?");

/***/ }),

/***/ "./node_modules/tti-polyfill/tti-polyfill.js":
/*!***************************************************!*\
  !*** ./node_modules/tti-polyfill/tti-polyfill.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function(){var h=\"undefined\"!=typeof window&&window===this?this:\"undefined\"!=typeof global&&null!=global?global:this,k=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function l(){l=function(){};h.Symbol||(h.Symbol=m)}var n=0;function m(a){return\"jscomp_symbol_\"+(a||\"\")+n++}\nfunction p(){l();var a=h.Symbol.iterator;a||(a=h.Symbol.iterator=h.Symbol(\"iterator\"));\"function\"!=typeof Array.prototype[a]&&k(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return q(this)}});p=function(){}}function q(a){var b=0;return r(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})}function r(a){p();a={next:a};a[h.Symbol.iterator]=function(){return this};return a}function t(a){p();var b=a[Symbol.iterator];return b?b.call(a):q(a)}\nfunction u(a){if(!(a instanceof Array)){a=t(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var v=0;function w(a,b){var c=XMLHttpRequest.prototype.send,d=v++;XMLHttpRequest.prototype.send=function(f){for(var e=[],g=0;g<arguments.length;++g)e[g-0]=arguments[g];var E=this;a(d);this.addEventListener(\"readystatechange\",function(){4===E.readyState&&b(d)});return c.apply(this,e)}}\nfunction x(a,b){var c=fetch;fetch=function(d){for(var f=[],e=0;e<arguments.length;++e)f[e-0]=arguments[e];return new Promise(function(d,e){var g=v++;a(g);c.apply(null,[].concat(u(f))).then(function(a){b(g);d(a)},function(a){b(a);e(a)})})}}var y=\"img script iframe link audio video source\".split(\" \");function z(a,b){a=t(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.includes(c.nodeName.toLowerCase())||z(c.children,b))return!0;return!1}\nfunction A(a){var b=new MutationObserver(function(c){c=t(c);for(var b=c.next();!b.done;b=c.next())b=b.value,\"childList\"==b.type&&z(b.addedNodes,y)?a(b):\"attributes\"==b.type&&y.includes(b.target.tagName.toLowerCase())&&a(b)});b.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:[\"href\",\"src\"]});return b}\nfunction B(a,b){if(2<a.length)return performance.now();var c=[];b=t(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c.push({timestamp:d.start,type:\"requestStart\"}),c.push({timestamp:d.end,type:\"requestEnd\"});b=t(a);for(d=b.next();!d.done;d=b.next())c.push({timestamp:d.value,type:\"requestStart\"});c.sort(function(a,b){return a.timestamp-b.timestamp});a=a.length;for(b=c.length-1;0<=b;b--)switch(d=c[b],d.type){case \"requestStart\":a--;break;case \"requestEnd\":a++;if(2<a)return d.timestamp;break;default:throw Error(\"Internal Error: This should never happen\");\n}return 0}function C(a){a=a?a:{};this.w=!!a.useMutationObserver;this.u=a.minValue||null;a=window.__tti&&window.__tti.e;var b=window.__tti&&window.__tti.o;this.a=a?a.map(function(a){return{start:a.startTime,end:a.startTime+a.duration}}):[];b&&b.disconnect();this.b=[];this.f=new Map;this.j=null;this.v=-Infinity;this.i=!1;this.h=this.c=this.s=null;w(this.m.bind(this),this.l.bind(this));x(this.m.bind(this),this.l.bind(this));D(this);this.w&&(this.h=A(this.B.bind(this)))}\nC.prototype.getFirstConsistentlyInteractive=function(){var a=this;return new Promise(function(b){a.s=b;\"complete\"==document.readyState?F(a):window.addEventListener(\"load\",function(){F(a)})})};function F(a){a.i=!0;var b=0<a.a.length?a.a[a.a.length-1].end:0,c=B(a.g,a.b);G(a,Math.max(c+5E3,b))}\nfunction G(a,b){!a.i||a.v>b||(clearTimeout(a.j),a.j=setTimeout(function(){var b=performance.timing.navigationStart,d=B(a.g,a.b),b=(window.a&&window.a.A?1E3*window.a.A().C-b:0)||performance.timing.domContentLoadedEventEnd-b;if(a.u)var f=a.u;else performance.timing.domContentLoadedEventEnd?(f=performance.timing,f=f.domContentLoadedEventEnd-f.navigationStart):f=null;var e=performance.now();null===f&&G(a,Math.max(d+5E3,e+1E3));var g=a.a;5E3>e-d?d=null:(d=g.length?g[g.length-1].end:b,d=5E3>e-d?null:Math.max(d,\nf));d&&(a.s(d),clearTimeout(a.j),a.i=!1,a.c&&a.c.disconnect(),a.h&&a.h.disconnect());G(a,performance.now()+1E3)},b-performance.now()),a.v=b)}\nfunction D(a){a.c=new PerformanceObserver(function(b){b=t(b.getEntries());for(var c=b.next();!c.done;c=b.next())if(c=c.value,\"resource\"===c.entryType&&(a.b.push({start:c.fetchStart,end:c.responseEnd}),G(a,B(a.g,a.b)+5E3)),\"longtask\"===c.entryType){var d=c.startTime+c.duration;a.a.push({start:c.startTime,end:d});G(a,d+5E3)}});a.c.observe({entryTypes:[\"longtask\",\"resource\"]})}C.prototype.m=function(a){this.f.set(a,performance.now())};C.prototype.l=function(a){this.f.delete(a)};\nC.prototype.B=function(){G(this,performance.now()+5E3)};h.Object.defineProperties(C.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(u(this.f.values()))}}});var H={getFirstConsistentlyInteractive:function(a){a=a?a:{};return\"PerformanceLongTaskTiming\"in window?(new C(a)).getFirstConsistentlyInteractive():Promise.resolve(null)}};\n true&&module.exports?module.exports=H: true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function(){return H}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined;})();\n//# sourceMappingURL=tti-polyfill.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack://Pmonitorjs/./node_modules/tti-polyfill/tti-polyfill.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack://Pmonitorjs/(webpack)/buildin/global.js?");

/***/ }),

/***/ "./src/device/device.js":
/*!******************************!*\
  !*** ./src/device/device.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar DeviceInfo = function () {\n  var root = typeof self !== 'undefined' ? self : this;\n\n  var _window = root || {}; // 变量库\n\n\n  var VariableLibrary = {\n    navigator: typeof root.navigator != 'undefined' ? root.navigator : {},\n    // 信息map\n    infoMap: {\n      engine: ['WebKit', 'Trident', 'Gecko', 'Presto'],\n      // 引擎\n      browser: [// 浏览器\n      'Safari', 'Chrome', 'Edge', 'IE', 'Firefox', 'Firefox Focus', 'Chromium', 'Opera', 'Vivaldi', 'Yandex', 'Arora', 'Lunascape', 'QupZilla', 'Coc Coc', 'Kindle', 'Iceweasel', 'Konqueror', 'Iceape', 'SeaMonkey', 'Epiphany', '360', '360SE', '360EE', 'UC', 'QQBrowser', 'QQ', 'Baidu', 'Maxthon', 'Sogou', 'LBBROWSER', '2345Explorer', 'TheWorld', 'XiaoMi', 'Quark', 'Qiyu', 'Wechat', 'Taobao', 'Alipay', 'Weibo', 'Douban', 'Suning', 'iQiYi'],\n      os: [// 系统\n      'Windows', 'Linux', 'Mac OS', 'Android', 'Ubuntu', 'FreeBSD', 'Debian', 'iOS', 'Windows Phone', 'BlackBerry', 'MeeGo', 'Symbian', 'Chrome OS', 'WebOS'],\n      device: ['Mobile', 'Tablet', 'iPad'] // 设备\n\n    }\n  }; // 方法库\n\n  var MethodLibrary = function () {\n    return {\n      // 获取匹配库\n      getMatchMap: function getMatchMap(u) {\n        return {\n          // 内核\n          Trident: u.indexOf('Trident') > -1 || u.indexOf('NET CLR') > -1,\n          Presto: u.indexOf('Presto') > -1,\n          WebKit: u.indexOf('AppleWebKit') > -1,\n          Gecko: u.indexOf('Gecko/') > -1,\n          // 浏览器\n          Safari: u.indexOf('Safari') > -1,\n          Chrome: u.indexOf('Chrome') > -1 || u.indexOf('CriOS') > -1,\n          IE: u.indexOf('MSIE') > -1 || u.indexOf('Trident') > -1,\n          Edge: u.indexOf('Edge') > -1,\n          Firefox: u.indexOf('Firefox') > -1 || u.indexOf('FxiOS') > -1,\n          'Firefox Focus': u.indexOf('Focus') > -1,\n          Chromium: u.indexOf('Chromium') > -1,\n          Opera: u.indexOf('Opera') > -1 || u.indexOf('OPR') > -1,\n          Vivaldi: u.indexOf('Vivaldi') > -1,\n          Yandex: u.indexOf('YaBrowser') > -1,\n          Arora: u.indexOf('Arora') > -1,\n          Lunascape: u.indexOf('Lunascape') > -1,\n          QupZilla: u.indexOf('QupZilla') > -1,\n          'Coc Coc': u.indexOf('coc_coc_browser') > -1,\n          Kindle: u.indexOf('Kindle') > -1 || u.indexOf('Silk/') > -1,\n          Iceweasel: u.indexOf('Iceweasel') > -1,\n          Konqueror: u.indexOf('Konqueror') > -1,\n          Iceape: u.indexOf('Iceape') > -1,\n          SeaMonkey: u.indexOf('SeaMonkey') > -1,\n          Epiphany: u.indexOf('Epiphany') > -1,\n          '360': u.indexOf('QihooBrowser') > -1 || u.indexOf('QHBrowser') > -1,\n          '360EE': u.indexOf('360EE') > -1,\n          '360SE': u.indexOf('360SE') > -1,\n          UC: u.indexOf('UC') > -1 || u.indexOf(' UBrowser') > -1,\n          QQBrowser: u.indexOf('QQBrowser') > -1,\n          QQ: u.indexOf('QQ/') > -1,\n          Baidu: u.indexOf('Baidu') > -1 || u.indexOf('BIDUBrowser') > -1,\n          Maxthon: u.indexOf('Maxthon') > -1,\n          Sogou: u.indexOf('MetaSr') > -1 || u.indexOf('Sogou') > -1,\n          LBBROWSER: u.indexOf('LBBROWSER') > -1,\n          '2345Explorer': u.indexOf('2345Explorer') > -1,\n          TheWorld: u.indexOf('TheWorld') > -1,\n          XiaoMi: u.indexOf('MiuiBrowser') > -1,\n          Quark: u.indexOf('Quark') > -1,\n          Qiyu: u.indexOf('Qiyu') > -1,\n          Wechat: u.indexOf('MicroMessenger') > -1,\n          Taobao: u.indexOf('AliApp(TB') > -1,\n          Alipay: u.indexOf('AliApp(AP') > -1,\n          Weibo: u.indexOf('Weibo') > -1,\n          Douban: u.indexOf('com.douban.frodo') > -1,\n          Suning: u.indexOf('SNEBUY-APP') > -1,\n          iQiYi: u.indexOf('IqiyiApp') > -1,\n          // 系统或平台\n          Windows: u.indexOf('Windows') > -1,\n          Linux: u.indexOf('Linux') > -1 || u.indexOf('X11') > -1,\n          'Mac OS': u.indexOf('Macintosh') > -1,\n          Android: u.indexOf('Android') > -1 || u.indexOf('Adr') > -1,\n          Ubuntu: u.indexOf('Ubuntu') > -1,\n          FreeBSD: u.indexOf('FreeBSD') > -1,\n          Debian: u.indexOf('Debian') > -1,\n          'Windows Phone': u.indexOf('IEMobile') > -1 || u.indexOf('Windows Phone') > -1,\n          BlackBerry: u.indexOf('BlackBerry') > -1 || u.indexOf('RIM') > -1,\n          MeeGo: u.indexOf('MeeGo') > -1,\n          Symbian: u.indexOf('Symbian') > -1,\n          iOS: u.indexOf('like Mac OS X') > -1,\n          'Chrome OS': u.indexOf('CrOS') > -1,\n          WebOS: u.indexOf('hpwOS') > -1,\n          // 设备\n          Mobile: u.indexOf('Mobi') > -1 || u.indexOf('iPh') > -1 || u.indexOf('480') > -1,\n          Tablet: u.indexOf('Tablet') > -1 || u.indexOf('Nexus 7') > -1,\n          iPad: u.indexOf('iPad') > -1\n        };\n      },\n      // 在信息map和匹配库中进行匹配\n      matchInfoMap: function matchInfoMap(_self) {\n        var u = VariableLibrary.navigator.userAgent || {};\n        var match = MethodLibrary.getMatchMap(u);\n\n        for (var s in VariableLibrary.infoMap) {\n          for (var i = 0; i < VariableLibrary.infoMap[s].length; i++) {\n            var value = VariableLibrary.infoMap[s][i];\n\n            if (match[value]) {\n              _self[s] = value;\n            }\n          }\n        }\n      },\n      // 获取当前操作系统\n      getOS: function getOS() {\n        var _self = this;\n\n        MethodLibrary.matchInfoMap(_self);\n        return _self.os;\n      },\n      // 获取操作系统版本\n      getOSVersion: function getOSVersion() {\n        var _self = this;\n\n        var u = VariableLibrary.navigator.userAgent || {};\n        _self.osVersion = ''; // 系统版本信息\n\n        var osVersion = {\n          Windows: function Windows() {\n            var v = u.replace(/^.*Windows NT ([\\d.]+);.*$/, '$1');\n            var oldWindowsVersionMap = {\n              '6.4': '10',\n              '6.3': '8.1',\n              '6.2': '8',\n              '6.1': '7',\n              '6.0': 'Vista',\n              '5.2': 'XP',\n              '5.1': 'XP',\n              '5.0': '2000'\n            };\n            return oldWindowsVersionMap[v] || v;\n          },\n          Android: function Android() {\n            return u.replace(/^.*Android ([\\d.]+);.*$/, '$1');\n          },\n          iOS: function iOS() {\n            return u.replace(/^.*OS ([\\d_]+) like.*$/, '$1').replace(/_/g, '.');\n          },\n          Debian: function Debian() {\n            return u.replace(/^.*Debian\\/([\\d.]+).*$/, '$1');\n          },\n          'Windows Phone': function WindowsPhone() {\n            return u.replace(/^.*Windows Phone( OS)? ([\\d.]+);.*$/, '$2');\n          },\n          'Mac OS': function MacOS() {\n            return u.replace(/^.*Mac OS X ([\\d_]+).*$/, '$1').replace(/_/g, '.');\n          },\n          WebOS: function WebOS() {\n            return u.replace(/^.*hpwOS\\/([\\d.]+);.*$/, '$1');\n          }\n        };\n\n        if (osVersion[_self.os]) {\n          _self.osVersion = osVersion[_self.os]();\n\n          if (_self.osVersion == u) {\n            _self.osVersion = '';\n          }\n        }\n\n        return _self.osVersion;\n      },\n      // 获取横竖屏状态\n      getOrientationStatu: function getOrientationStatu() {\n        var orientationStatus = '';\n        var orientation = window.matchMedia('(orientation: portrait)');\n\n        if (orientation.matches) {\n          orientationStatus = '竖屏';\n        } else {\n          orientationStatus = '横屏';\n        }\n\n        return orientationStatus;\n      },\n      // 获取设备类型\n      getDeviceType: function getDeviceType() {\n        var _self = this;\n\n        _self.device = 'PC';\n        MethodLibrary.matchInfoMap(_self);\n        return _self.device;\n      },\n      // 获取网络状态\n      getNetwork: function getNetwork() {\n        var netWork = navigator && navigator.connection && navigator.connection.effectiveType;\n        return netWork;\n      },\n      // 获取当前语言\n      getLanguage: function getLanguage() {\n        var _self = this;\n\n        _self.language = function () {\n          var language = VariableLibrary.navigator.browserLanguage || VariableLibrary.navigator.language;\n          var arr = language.split('-');\n\n          if (arr[1]) {\n            arr[1] = arr[1].toUpperCase();\n          }\n\n          return arr.join('_');\n        }();\n\n        return _self.language;\n      },\n      // 生成浏览器指纹\n      createFingerprint: function createFingerprint(domain) {\n        var fingerprint;\n\n        function bin2hex(s) {\n          var i,\n              l,\n              n,\n              o = '';\n          s += '';\n\n          for (i = 0, l = s.length; i < l; i++) {\n            n = s.charCodeAt(i).toString(16);\n            o += n.length < 2 ? '0' + n : n;\n          }\n\n          return o;\n        }\n\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var txt = domain || window.location.host;\n        ctx.textBaseline = 'top';\n        ctx.font = \"14px 'Arial'\";\n        ctx.textBaseline = 'tencent';\n        ctx.fillStyle = '#f60';\n        ctx.fillRect(125, 1, 62, 20);\n        ctx.fillStyle = '#069';\n        ctx.fillText(txt, 2, 15);\n        ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';\n        ctx.fillText(txt, 4, 17);\n        var b64 = canvas.toDataURL().replace('data:image/png;base64,', '');\n        var bin = atob(b64);\n        var crc = bin2hex(bin.slice(-16, -12));\n        fingerprint = crc;\n        return fingerprint;\n      },\n      // 浏览器信息\n      getBrowserInfo: function getBrowserInfo() {\n        var _self = this;\n\n        MethodLibrary.matchInfoMap(_self);\n        var u = VariableLibrary.navigator.userAgent || {};\n\n        var _mime = function _mime(option, value) {\n          var mimeTypes = VariableLibrary.navigator.mimeTypes;\n\n          for (var key in mimeTypes) {\n            if (mimeTypes[key][option] == value) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n\n        var match = MethodLibrary.getMatchMap(u);\n        var is360 = false;\n\n        if (_window.chrome) {\n          var chrome_vision = u.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n\n          if (chrome_vision > 36 && _window.showModalDialog) {\n            is360 = true;\n          } else if (chrome_vision > 45) {\n            is360 = _mime('type', 'application/vnd.chromium.remoting-viewer');\n          }\n        }\n\n        if (match['Baidu'] && match['Opera']) {\n          match['Baidu'] = false;\n        }\n\n        if (match['Mobile']) {\n          match['Mobile'] = !(u.indexOf('iPad') > -1);\n        }\n\n        if (is360) {\n          if (_mime('type', 'application/gameplugin')) {\n            match['360SE'] = true;\n          } else if (VariableLibrary.navigator && typeof VariableLibrary.navigator['connection']['saveData'] == 'undefined') {\n            match['360SE'] = true;\n          } else {\n            match['360EE'] = true;\n          }\n        }\n\n        if (match['IE'] || match['Edge']) {\n          var navigator_top = window.screenTop - window.screenY;\n\n          switch (navigator_top) {\n            case 71:\n              // 无收藏栏,贴边\n              break;\n\n            case 74:\n              // 无收藏栏,非贴边\n              break;\n\n            case 99:\n              // 有收藏栏,贴边\n              break;\n\n            case 102:\n              // 有收藏栏,非贴边\n              match['360EE'] = true;\n              break;\n\n            case 75:\n              // 无收藏栏,贴边\n              break;\n\n            case 74:\n              // 无收藏栏,非贴边\n              break;\n\n            case 105:\n              // 有收藏栏,贴边\n              break;\n\n            case 104:\n              // 有收藏栏,非贴边\n              match['360SE'] = true;\n              break;\n\n            default:\n              break;\n          }\n        }\n\n        var browerVersionMap = {\n          Safari: function Safari() {\n            return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1');\n          },\n          Chrome: function Chrome() {\n            return u.replace(/^.*Chrome\\/([\\d.]+).*$/, '$1').replace(/^.*CriOS\\/([\\d.]+).*$/, '$1');\n          },\n          IE: function IE() {\n            return u.replace(/^.*MSIE ([\\d.]+).*$/, '$1').replace(/^.*rv:([\\d.]+).*$/, '$1');\n          },\n          Edge: function Edge() {\n            return u.replace(/^.*Edge\\/([\\d.]+).*$/, '$1');\n          },\n          Firefox: function Firefox() {\n            return u.replace(/^.*Firefox\\/([\\d.]+).*$/, '$1').replace(/^.*FxiOS\\/([\\d.]+).*$/, '$1');\n          },\n          'Firefox Focus': function FirefoxFocus() {\n            return u.replace(/^.*Focus\\/([\\d.]+).*$/, '$1');\n          },\n          Chromium: function Chromium() {\n            return u.replace(/^.*Chromium\\/([\\d.]+).*$/, '$1');\n          },\n          Opera: function Opera() {\n            return u.replace(/^.*Opera\\/([\\d.]+).*$/, '$1').replace(/^.*OPR\\/([\\d.]+).*$/, '$1');\n          },\n          Vivaldi: function Vivaldi() {\n            return u.replace(/^.*Vivaldi\\/([\\d.]+).*$/, '$1');\n          },\n          Yandex: function Yandex() {\n            return u.replace(/^.*YaBrowser\\/([\\d.]+).*$/, '$1');\n          },\n          Arora: function Arora() {\n            return u.replace(/^.*Arora\\/([\\d.]+).*$/, '$1');\n          },\n          Lunascape: function Lunascape() {\n            return u.replace(/^.*Lunascape[\\/\\s]([\\d.]+).*$/, '$1');\n          },\n          QupZilla: function QupZilla() {\n            return u.replace(/^.*QupZilla[\\/\\s]([\\d.]+).*$/, '$1');\n          },\n          'Coc Coc': function CocCoc() {\n            return u.replace(/^.*coc_coc_browser\\/([\\d.]+).*$/, '$1');\n          },\n          Kindle: function Kindle() {\n            return u.replace(/^.*Version\\/([\\d.]+).*$/, '$1');\n          },\n          Iceweasel: function Iceweasel() {\n            return u.replace(/^.*Iceweasel\\/([\\d.]+).*$/, '$1');\n          },\n          Konqueror: function Konqueror() {\n            return u.replace(/^.*Konqueror\\/([\\d.]+).*$/, '$1');\n          },\n          Iceape: function Iceape() {\n            return u.replace(/^.*Iceape\\/([\\d.]+).*$/, '$1');\n          },\n          SeaMonkey: function SeaMonkey() {\n            return u.replace(/^.*SeaMonkey\\/([\\d.]+).*$/, '$1');\n          },\n          Epiphany: function Epiphany() {\n            return u.replace(/^.*Epiphany\\/([\\d.]+).*$/, '$1');\n          },\n          '360': function _() {\n            return u.replace(/^.*QihooBrowser\\/([\\d.]+).*$/, '$1');\n          },\n          '360SE': function SE() {\n            var hash = {\n              '63': '10.0',\n              '55': '9.1',\n              '45': '8.1',\n              '42': '8.0',\n              '31': '7.0',\n              '21': '6.3'\n            };\n            var chrome_vision = u.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n            return hash[chrome_vision] || '';\n          },\n          '360EE': function EE() {\n            var hash = {\n              '69': '11.0',\n              '63': '9.5',\n              '55': '9.0',\n              '50': '8.7',\n              '30': '7.5'\n            };\n            var chrome_vision = u.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n            return hash[chrome_vision] || '';\n          },\n          Maxthon: function Maxthon() {\n            return u.replace(/^.*Maxthon\\/([\\d.]+).*$/, '$1');\n          },\n          QQBrowser: function QQBrowser() {\n            return u.replace(/^.*QQBrowser\\/([\\d.]+).*$/, '$1');\n          },\n          QQ: function QQ() {\n            return u.replace(/^.*QQ\\/([\\d.]+).*$/, '$1');\n          },\n          Baidu: function Baidu() {\n            return u.replace(/^.*BIDUBrowser[\\s\\/]([\\d.]+).*$/, '$1');\n          },\n          UC: function UC() {\n            return u.replace(/^.*UC?Browser\\/([\\d.]+).*$/, '$1');\n          },\n          Sogou: function Sogou() {\n            return u.replace(/^.*SE ([\\d.X]+).*$/, '$1').replace(/^.*SogouMobileBrowser\\/([\\d.]+).*$/, '$1');\n          },\n          LBBROWSER: function LBBROWSER() {\n            var hash = {\n              '57': '6.5',\n              '49': '6.0',\n              '46': '5.9',\n              '42': '5.3',\n              '39': '5.2',\n              '34': '5.0',\n              '29': '4.5',\n              '21': '4.0'\n            };\n            var chrome_vision = navigator.userAgent.replace(/^.*Chrome\\/([\\d]+).*$/, '$1');\n            return hash[chrome_vision] || '';\n          },\n          '2345Explorer': function Explorer() {\n            return u.replace(/^.*2345Explorer\\/([\\d.]+).*$/, '$1');\n          },\n          TheWorld: function TheWorld() {\n            return u.replace(/^.*TheWorld ([\\d.]+).*$/, '$1');\n          },\n          XiaoMi: function XiaoMi() {\n            return u.replace(/^.*MiuiBrowser\\/([\\d.]+).*$/, '$1');\n          },\n          Quark: function Quark() {\n            return u.replace(/^.*Quark\\/([\\d.]+).*$/, '$1');\n          },\n          Qiyu: function Qiyu() {\n            return u.replace(/^.*Qiyu\\/([\\d.]+).*$/, '$1');\n          },\n          Wechat: function Wechat() {\n            return u.replace(/^.*MicroMessenger\\/([\\d.]+).*$/, '$1');\n          },\n          Taobao: function Taobao() {\n            return u.replace(/^.*AliApp\\(TB\\/([\\d.]+).*$/, '$1');\n          },\n          Alipay: function Alipay() {\n            return u.replace(/^.*AliApp\\(AP\\/([\\d.]+).*$/, '$1');\n          },\n          Weibo: function Weibo() {\n            return u.replace(/^.*weibo__([\\d.]+).*$/, '$1');\n          },\n          Douban: function Douban() {\n            return u.replace(/^.*com.douban.frodo\\/([\\d.]+).*$/, '$1');\n          },\n          Suning: function Suning() {\n            return u.replace(/^.*SNEBUY-APP([\\d.]+).*$/, '$1');\n          },\n          iQiYi: function iQiYi() {\n            return u.replace(/^.*IqiyiVersion\\/([\\d.]+).*$/, '$1');\n          }\n        };\n        _self.browserVersion = '';\n\n        if (browerVersionMap[_self.browser]) {\n          _self.browserVersion = browerVersionMap[_self.browser]();\n\n          if (_self.browserVersion == u) {\n            _self.browserVersion = '';\n          }\n        }\n\n        if (_self.browser == 'Edge') {\n          _self.engine = 'EdgeHTML';\n        }\n\n        if (_self.browser == 'Chrome' && parseInt(_self.browserVersion) > 27) {\n          _self.engine = 'Blink';\n        }\n\n        if (_self.browser == 'Opera' && parseInt(_self.browserVersion) > 12) {\n          _self.engine = 'Blink';\n        }\n\n        if (_self.browser == 'Yandex') {\n          _self.engine = 'Blink';\n        }\n\n        return _self.browser + '（版本: ' + _self.browserVersion + '&nbsp;&nbsp;内核: ' + _self.engine + '）';\n      }\n    };\n  }(); // 逻辑层\n\n\n  var LogicLibrary = function () {\n    return {\n      DeviceInfoObj: function DeviceInfoObj(params) {\n        params = params || {\n          domain: ''\n        };\n        var info = {\n          deviceType: MethodLibrary.getDeviceType(),\n          // 设备类型\n          OS: MethodLibrary.getOS(),\n          // 操作系统\n          OSVersion: MethodLibrary.getOSVersion(),\n          // 操作系统版本\n          screenHeight: _window.screen.height,\n          // 屏幕高\n          screenWidth: _window.screen.width,\n          // 屏幕宽\n          language: MethodLibrary.getLanguage(),\n          // 当前使用的语言-国家\n          netWork: MethodLibrary.getNetwork(),\n          // 联网类型\n          orientation: MethodLibrary.getOrientationStatu(),\n          // 横竖屏\n          browserInfo: MethodLibrary.getBrowserInfo(),\n          // 浏览器信息\n          fingerprint: MethodLibrary.createFingerprint(params.domain),\n          // 浏览器指纹\n          userAgent: VariableLibrary.navigator.userAgent // 包含 appCodeName,appName,appVersion,language,platform 等\n\n        };\n\n        if (!params.info || params.info.length == 0) {\n          return info;\n        }\n\n        var infoTemp = {};\n\n        var _loop = function _loop(i) {\n          params.info.forEach(function (item) {\n            if (item.toLowerCase() == i.toLowerCase()) {\n              item = i;\n              infoTemp[item] = info[item];\n            }\n          });\n        };\n\n        for (var i in info) {\n          _loop(i);\n        }\n\n        return infoTemp;\n      }\n    };\n  }(); // 对外暴露方法\n\n\n  return {\n    getDeviceInfo: function getDeviceInfo(params) {\n      return LogicLibrary.DeviceInfoObj(params);\n    }\n  };\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DeviceInfo);\n\n//# sourceURL=webpack://Pmonitorjs/./src/device/device.js?");

/***/ }),

/***/ "./src/device/index.js":
/*!*****************************!*\
  !*** ./src/device/index.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _device_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./device.js */ \"./src/device/device.js\");\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_device_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n//# sourceURL=webpack://Pmonitorjs/./src/device/index.js?");

/***/ }),

/***/ "./src/error/ajaxError.js":
/*!********************************!*\
  !*** ./src/error/ajaxError.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/utils */ \"./src/utils/utils.js\");\n\n\n\n\n\n/**\n * ajax error异常\n */\n\nvar AjaxError = /*#__PURE__*/function () {\n  function AjaxError(params) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AjaxError);\n\n    this.params = params;\n  }\n  /**\n   * 处理错误\n   * @param type {*} ajax库类型\n   * @param error{*} 错误信息\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AjaxError, [{\n    key: \"handleError\",\n    value: function handleError(type, error) {\n      switch (type) {\n        case _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"AjaxLibEnum\"].AJAX:\n          xhrError(this.params);\n          break;\n\n        case _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"AjaxLibEnum\"].FETCH:\n          fetchError(this.params);\n          break;\n\n        default:\n          fetchError(this.params);\n          xhrError(this.params);\n          break;\n      }\n    }\n  }]);\n\n  return AjaxError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AjaxError);\n\nvar fetchError = function fetchError(params) {\n  if (!window.fetch) return;\n  var _oldFetch = window.fetch;\n  var data = {\n    request: {\n      method: 'GET'\n    }\n  };\n\n  var _handleEvent = function _handleEvent() {\n    try {\n      data.level = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN;\n      data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].AJAX_ERROR;\n      new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](params).recordError(data);\n    } catch (error) {\n      console.log('监控fetch错误：', error);\n    }\n  };\n\n  window.fetch = function () {\n    var arg = arguments;\n    var args = Array.prototype.slice.apply(arg);\n    if (!args || !args.length) return result;\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'string') {\n        data.request.url = args[0];\n      } else if (_utils_utils__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isObject(args[0])) {\n        data.request.url = args[0].url;\n        data.request.method = args[0].method || 'GET';\n        data.request.params = JSON.parse(args[0].body) || {};\n      }\n    } else {\n      data.request.url = args[0];\n      data.request.method = args[1].method || 'GET';\n      data.request.params = JSON.parse(args[1].body) || {};\n    }\n\n    return _oldFetch.apply(this, arguments).then(function (res) {\n      if (res.status !== 200) {\n        // True if status is HTTP 2xx\n        // 上报错误\n        data.response = {\n          status: res.status,\n          responseText: res.statusText\n        };\n        data.msg = \"\".concat(data.request.method, \" \").concat(res.url, \" \").concat(res.status, \" (\").concat(res.statusText, \")\");\n\n        _handleEvent();\n      }\n\n      return res;\n    })[\"catch\"](function (error) {\n      // 上报错误\n      data.msg = error.stack || error;\n\n      _handleEvent();\n\n      throw error;\n    });\n  };\n};\n/**\n * 获取HTTP错误信息\n */\n\n\nvar xhrError = function xhrError(params) {\n  /**\n   * 获取错误信息\n   */\n  if (!window.XMLHttpRequest) {\n    return;\n  } // 保存原生的 open 方法\n\n\n  var xhrOpen = XMLHttpRequest.prototype.open; // 保存原生的 send 方法\n\n  var xhrSend = XMLHttpRequest.prototype.send;\n  var data = {\n    request: {\n      method: 'GET'\n    }\n  };\n\n  var _handleEvent = function _handleEvent(event, arg) {\n    try {\n      if (event && event.currentTarget && event.currentTarget.status !== 200) {\n        data.level = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN;\n        data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].AJAX_ERROR;\n        data.msg = \"\".concat(data.request.method, \" \").concat(event.target.responseURL, \" \").concat(event.target.status, \" (\").concat(event.target.statusText, \")\");\n        data.responseTime = event.timeStamp;\n        data.request.params = JSON.parse(arg[0]) || {};\n        data.request.url = event.target.responseURL;\n        data.response = {\n          status: event.target.status,\n          responseText: event.target.responseText\n        };\n        new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](params).recordError(data);\n      }\n    } catch (error) {\n      console.log('监听XHR错误：', error);\n    }\n  }; // 重写 open\n\n\n  XMLHttpRequest.prototype.open = function () {\n    // 先在此处取得请求的method\n    data.request.method = arguments[0]; // 再调用原生 open 实现重写\n\n    return xhrOpen.apply(this, arguments);\n  }; // 重写 send\n\n\n  XMLHttpRequest.prototype.send = function () {\n    var _arguments = arguments;\n\n    if (this['addEventListener']) {\n      this['addEventListener']('error', function (e) {\n        return _handleEvent(e, _arguments);\n      }); // 失败\n\n      this['addEventListener']('load', function (e) {\n        return _handleEvent(e, _arguments);\n      }); // 完成\n\n      this['addEventListener']('abort', function (e) {\n        return _handleEvent(e, _arguments);\n      }); // 取消\n    } else {\n      var tempStateChange = this['onreadystatechange'];\n\n      this['onreadystatechange'] = function (event) {\n        tempStateChange.apply(this, arguments);\n\n        if (this.readyState === 4) {\n          _handleEvent(event, arguments);\n        }\n      };\n    } // 再调用原生 send 实现重写\n\n\n    return xhrSend.apply(this, arguments);\n  };\n};\n/**\n * Axios类库 错误信息处理(如果不配置，可以统一通过XHR接受错误信息)\n */\n// const axiosError = (params, error) => {\n//     let data\n//     if (error && error.config && error.config.url) {\n//         data.url = error.config.url\n//     }\n//     data.level = ErrorLevelEnum.WARN\n//     data.category = ErrorCategoryEnum.AJAX_ERROR\n//     data.msg = JSON.stringify(error)\n//     new Monitor(params).recordError(data)\n// }\n// axios重写\n// function _Axios() {\n//     let data = {\n//         response: {},\n//         request: {}\n//     }\n//     if (!window.axios) return;\n//     const _axios = window.axios\n//     const List = ['axios', 'request', 'get', 'delete', 'head', 'options', 'put', 'post', 'patch']\n//     List.forEach(item => {\n//         _reseat(item)\n//     })\n//     function _reseat(item) {\n//         let _key = null;\n//         if (item === 'axios') {\n//             window['axios'] = resetFn;\n//             _key = _axios\n//         } else if (item === 'request') {\n//             window['axios']['request'] = resetFn;\n//             _key = _axios['request'];\n//         } else {\n//             window['axios'][item] = resetFn;\n//             _key = _axios[item];\n//         }\n//         function resetFn() {\n//             const result = ajaxArg(arguments, item)\n//             return _key.apply(this, arguments)\n//                 .then(function (res) {\n//                     if (result.report === 'report-data') return res;\n//                     try {\n//                         data.request.url = res.request.responseURL ? res.request.responseURL.split('?')[0] : '';\n//                         // data.request.responseText = res.request.responseText;\n//                         data.request.method = result.method\n//                         data.request.params = result.options\n//                     } catch (e) {}\n//                     return res\n//                 })\n//                 .catch((err) => {\n//                     if (result.report === 'report-data') return res;\n//                     data.msg = err.message\n//                     data.response.status = err.response ? err.response.status : 0\n//                     return err\n//                 })\n//         }\n//     }\n// }\n// // Ajax arguments\n// function ajaxArg(arg, item) {\n//     let result = {\n//         method: 'GET',\n//         type: 'xmlhttprequest',\n//         report: ''\n//     }\n//     let args = Array.prototype.slice.apply(arg)\n//     try {\n//         if (item == 'axios' || item == 'request') {\n//             result.url = args[0].url\n//             result.method = args[0].method\n//             result.options = result.method.toLowerCase() == 'get' ? args[0].params : args[0].data\n//         } else {\n//             result.url = args[0]\n//             result.method = ''\n//             if (args[1]) {\n//                 if (args[1].params) {\n//                     result.method = 'GET'\n//                     result.options = args[1].params;\n//                 } else {\n//                     result.method = 'POST'\n//                     result.options = args[1];\n//                 }\n//             }\n//         }\n//         result.report = args[0].report\n//     } catch (err) {}\n//     return result;\n// }\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/ajaxError.js?");

/***/ }),

/***/ "./src/error/consoleError.js":
/*!***********************************!*\
  !*** ./src/error/consoleError.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/toConsumableArray */ \"./node_modules/@babel/runtime/helpers/toConsumableArray.js\");\n/* harmony import */ var _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n\n\n\n\n\n/**\n * console.error异常\n */\n\nvar ConsoleError = /*#__PURE__*/function () {\n  function ConsoleError(params) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, ConsoleError);\n\n    this.params = params;\n  }\n  /**\n   * 处理console事件\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(ConsoleError, [{\n    key: \"handleError\",\n    value: function handleError() {\n      this.registerInfo();\n      this.registerWarn();\n      this.registerError();\n    }\n    /**\n     * 处理信息\n     */\n\n  }, {\n    key: \"registerInfo\",\n    value: function registerInfo() {\n      var _self = this;\n\n      console.tInfo = function () {\n        _self.handleLog(_utils_config_js__WEBPACK_IMPORTED_MODULE_4__[\"ErrorLevelEnum\"].INFO, _utils_config_js__WEBPACK_IMPORTED_MODULE_4__[\"ErrorCategoryEnum\"].CONSOLE_INFO, arguments);\n      };\n    }\n    /**\n     * 处理警告\n     */\n\n  }, {\n    key: \"registerWarn\",\n    value: function registerWarn() {\n      var _self = this;\n\n      console.tWarn = function () {\n        _self.handleLog(_utils_config_js__WEBPACK_IMPORTED_MODULE_4__[\"ErrorLevelEnum\"].WARN, _utils_config_js__WEBPACK_IMPORTED_MODULE_4__[\"ErrorCategoryEnum\"].CONSOLE_WARN, arguments);\n      };\n    }\n    /**\n     * 处理错误\n     */\n\n  }, {\n    key: \"registerError\",\n    value: function registerError() {\n      var _self = this;\n\n      console.tError = function () {\n        _self.handleLog(_utils_config_js__WEBPACK_IMPORTED_MODULE_4__[\"ErrorLevelEnum\"].ERROR, _utils_config_js__WEBPACK_IMPORTED_MODULE_4__[\"ErrorCategoryEnum\"].CONSOLE_ERROR, arguments);\n      };\n    }\n    /**\n     * 处理日志\n     */\n\n  }, {\n    key: \"handleLog\",\n    value: function handleLog(level, category, args) {\n      var data = {};\n\n      try {\n        data.level = level;\n        data.category = category;\n\n        var params = _babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default()(args);\n\n        data.msg = params.join('\\r\\n'); // 换行符分割\n\n        new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](this.params).recordError(data);\n      } catch (error) {\n        console.log('console统计错误异常：', level, error);\n      }\n    }\n  }]);\n\n  return ConsoleError;\n}();\n/**\n * 初始化console事件\n */\n\n\n(function () {\n  //创建空console对象，避免JS报错  \n  if (!window.console) {\n    window.console = {};\n  }\n\n  var funcs = ['tInfo', 'tWarn', 'tError'];\n  funcs.forEach(function (func, index) {\n    if (!console[func]) {\n      console[func] = function () {};\n    }\n  });\n})();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ConsoleError);\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/consoleError.js?");

/***/ }),

/***/ "./src/error/framesError.js":
/*!**********************************!*\
  !*** ./src/error/framesError.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n\n\n\n\n/**\n * 捕获未处理的iframes异常\n */\n\nvar FramesError = /*#__PURE__*/function () {\n  function FramesError(params) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, FramesError);\n\n    this.params = params;\n  }\n  /**\n   * 处理错误\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(FramesError, [{\n    key: \"handleError\",\n    value: function handleError() {\n      var _this = this;\n\n      var _loop = function _loop(i) {\n        var data = {};\n\n        window.frames[i].onerror = function (msg, url, row, col, error) {\n          try {\n            // 没有URL不上报！上报也不知道错误\n            if (msg != \"Script error.\" && !url) {\n              return true;\n            }\n\n            var key = msg.match(/(\\w+)/g) || [];\n            data.level = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN;\n            data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].IFRAME_ERROR;\n            data.name = key.length > 0 && key[0];\n            data.type = key.length > 1 && key[1];\n            data.msg = msg || null;\n            data.url = url || null;\n            data.line = row || null;\n            data.col = col || null;\n\n            if (!!error && !!error.stack) {\n              // 如果浏览器有堆栈信息，直接使用\n              data.stack = error.stack.toString();\n            }\n\n            new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this.params).recordError(data);\n          } catch (err) {\n            console.log('iframe错误异常：', err);\n          }\n\n          return true;\n        };\n      };\n\n      for (var i = 0; i < window.frames.length; i++) {\n        _loop(i);\n      }\n    }\n  }]);\n\n  return FramesError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FramesError);\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/framesError.js?");

/***/ }),

/***/ "./src/error/index.js":
/*!****************************!*\
  !*** ./src/error/index.js ***!
  \****************************/
/*! exports provided: AjaxError, ConsoleError, JsError, PromiseError, ResourceError, VueError, FrameError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ajaxError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ajaxError.js */ \"./src/error/ajaxError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"AjaxError\", function() { return _ajaxError_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _consoleError_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./consoleError.js */ \"./src/error/consoleError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ConsoleError\", function() { return _consoleError_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _jsError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./jsError.js */ \"./src/error/jsError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"JsError\", function() { return _jsError_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _promiseError_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./promiseError.js */ \"./src/error/promiseError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PromiseError\", function() { return _promiseError_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _resourceError_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./resourceError.js */ \"./src/error/resourceError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ResourceError\", function() { return _resourceError_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _framesError_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./framesError.js */ \"./src/error/framesError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FrameError\", function() { return _framesError_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _vueError_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vueError.js */ \"./src/error/vueError.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"VueError\", function() { return _vueError_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/index.js?");

/***/ }),

/***/ "./src/error/jsError.js":
/*!******************************!*\
  !*** ./src/error/jsError.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n\n\n\n\n/**\n * 捕获JS错误\n * onerror用来捕捉预料之外的错误，而try-catch用来在可预见情况下监控特定的错误，两者组合使用更加高效\n * 无论是异步还是非异步错误，onerror都能捕获到运行时错误\n * 当遇到 < img src = \"./404.png\" > 报404错误异常的时候， 它捕获不到\n * window.onerror只有在函数返回true的时候， 异常才不会向上抛出， 否则即使知道异常的发生控制台还是会显示错误\n * try不能检测到语法错误, 词法解析就挂了，语法解析错误是捕获不了的, onerror也不行\n * try-catch 处理异常的能力有限，只能捕获捉到运行时非异步错误，对于语法错误和异步错误就显得无能为力，捕捉不到。\n */\n\nvar JSError = /*#__PURE__*/function () {\n  function JSError(params, newCaptureClick) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, JSError);\n\n    this.params = params;\n    this.newCaptureClick = newCaptureClick;\n  }\n  /**\n   * window.onerror能捕捉到语法错误，但是语法出错的代码块不能跟window.onerror在同一个块（语法都没过，更别提window.onerror会被执行了）\n   * 只要把window.onerror这个代码块分离出去，并且比其他脚本先执行（ 注意这个前提！） 即可捕捉到语法错误。\n   * 可以捕捉语法错误，也可以捕捉运行时错误；\n   * 可以拿到出错的信息，堆栈，出错的文件、行号、列号；\n   * 只要在当前页面执行的js脚本出错都会捕捉到，例如：浏览器插件的javascript、或者flash抛出的异常等。\n   * 跨域的资源需要特殊头部支持。\n   * 如果想通过onerror函数收集不同域的js错误， 我们需要做两件事：\n   * 1. 服务端相关的js文件上加上Access-Control-Allow-Origin: * 的response header\n   * 2. 客户端引用相关的js文件时加上crossorigin属性<script src=\"...\" crossorigin=\"anonymous\"></script>\n   * \n   * 采用异步的方式\n   * window.onunload会进行ajax的堵塞上报\n   * 由于客户端强制关闭webview导致这次堵塞上报有Network Error\n   * 猜测这里window.onerror的执行流在关闭前是必然执行的\n   * 而离开页面之后的上报对于业务来说是可丢失的\n   * 所以把这里的执行流放到异步事件去执行\n   * 脚本的异常数降低了10倍\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(JSError, [{\n    key: \"handleError\",\n    value: function handleError() {\n      var _arguments = arguments,\n          _this = this;\n\n      var data = {};\n\n      window.onerror = function (msg, url, line, col, error) {\n        try {\n          // 没有URL不上报！上报也不知道错误\n          if (msg != \"Script error.\" && !url) {\n            return true;\n          }\n\n          var key = msg.match(/(\\w+)/g) || [];\n          data.level = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN;\n          data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].JS_ERROR;\n          data.name = key.length > 0 && key[0];\n          data.type = key.length > 1 && key[1];\n          data.msg = msg || null;\n          data.url = url || null;\n          data.line = line || null; // 不一定所有浏览器都支持col参数\n          // 不过 [IE]下 window.event 对象提供了 errorLine 和 errorCharacter，以此来对应相应的行列号信息\n\n          data.col = col || window.event && window.event.errorCharacter || null;\n\n          if (!!error && !!error.stack) {\n            // 如果浏览器有堆栈信息，直接使用\n            data.stack = error.stack.toString();\n          } else if (!!_arguments.callee) {\n            // 尝试通过callee拿堆栈信息\n            var ext = []; // arguments.callee指向arguments对象的拥有函数引用, caller指向调用它的函数\n\n            var fn = _arguments.callee.caller;\n            var floor = 3; // 这里只拿三层堆栈信息\n\n            while (fn && --floor > 0) {\n              ext.push(fn.toString()); //如果有环\n\n              if (fn === fn.caller) {\n                break;\n              }\n\n              fn = fn.caller;\n            }\n\n            ext = ext.join(',');\n            data.stack = ext;\n          }\n\n          new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this.params, _this.newCaptureClick).recordError(data);\n        } catch (err) {\n          console.log('js错误异常：', err);\n        }\n\n        return true;\n      };\n    }\n  }]);\n\n  return JSError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (JSError);\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/jsError.js?");

/***/ }),

/***/ "./src/error/promiseError.js":
/*!***********************************!*\
  !*** ./src/error/promiseError.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n\n\n\n\n/**\n * 捕获未处理的Promise异常\n */\n\nvar PromiseError = /*#__PURE__*/function () {\n  function PromiseError(params) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, PromiseError);\n\n    this.params = params;\n  }\n  /**\n   * 处理错误\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(PromiseError, [{\n    key: \"handleError\",\n    value: function handleError() {\n      var _this = this;\n\n      var data = {};\n      window.addEventListener('unhandledrejection', function (event) {\n        try {\n          if (!event || !event.reason) {\n            return;\n          } //判断当前被捕获的异常url，是否是异常处理url，防止死循环\n\n\n          if (event.reason.config && event.reason.config.url) {\n            data.url = event.reason.config.url;\n          }\n\n          var error = event && event.reason;\n          var stack = error.stack || ''; // Processing error\n\n          var resourceUrl;\n          var errs = stack.match(/\\(.+?\\)/);\n\n          if (errs && errs.length) {\n            errs = errs[0];\n            errs = errs.replace(/\\w.+[js|html]/g, function ($1) {\n              data.resourceUrl = $1;\n              return '';\n            });\n            errs = errs.split(':');\n\n            if (errs.length > 1) {\n              data.line = parseInt(errs[1] || null);\n              data.col = parseInt(errs[2] || null);\n            }\n          }\n\n          data.level = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN;\n          data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].PROMISE_ERROR;\n          data.msg = event.reason.message || event.reason;\n          data.responseTime = event.timeStamp; // 响应时间\n\n          data.url = event.target.document.URL;\n          new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this.params).recordError(data);\n        } catch (error) {\n          console.log('Promise错误监控', error);\n        }\n\n        return true;\n      });\n    }\n  }]);\n\n  return PromiseError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PromiseError);\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/promiseError.js?");

/***/ }),

/***/ "./src/error/resourceError.js":
/*!************************************!*\
  !*** ./src/error/resourceError.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n\n\n\n\n/**\n * 资源加载错误\n */\n\nvar ResourceError = /*#__PURE__*/function () {\n  function ResourceError(params) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ResourceError);\n\n    this.params = params;\n  }\n  /**\n   * 注册onerror事件\n   * 由于网络请求异常不会事件冒泡，因此必须在捕获阶段将其捕捉到才行。\n   * 这种方式虽然可以捕捉到网络请求的异常，但是无法判断 HTTP 的状态是 404 还是其他比如 500 等等，所以还需要配合服务端日志才进行排查分析才可以。\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ResourceError, [{\n    key: \"handleError\",\n    value: function handleError() {\n      var _this = this;\n\n      var data = {};\n      window.addEventListener('error', function (event) {\n        try {\n          if (!event) {\n            return;\n          }\n\n          data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].RESOURCE_ERROR;\n          var target = event.target || event.srcElement;\n          var isElementTarget = target instanceof HTMLScriptElement || target instanceof HTMLLinkElement || target instanceof HTMLImageElement;\n\n          if (!isElementTarget) {\n            return; // js error不再处理\n          }\n\n          data.level = target.tagName.toUpperCase() === 'IMG' ? _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN : _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].ERROR;\n          data.url = target.baseURI;\n          data.resourceUrl = target.src || target.href;\n          data.msg = \"\\u52A0\\u8F7D \".concat(target.tagName, \"\\u8D44\\u6E90\\u9519\\u8BEF\\r\\nlink:\").concat(data.resourceUrl);\n          new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this.params).recordError(data);\n        } catch (error) {\n          console.log('资源加载收集异常：', error);\n        }\n      }, true);\n    }\n  }]);\n\n  return ResourceError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ResourceError); // performance.clearResourceTimings()\n// object.onerror\n// 如script，image等标签src引用，会返回一个event对象 ,TIPS: object.onerror不会冒泡到window对象，所以window.onerror无法监控资源加载错误\n// var img = new Image()\n// img.src = 'http://xxx.com/xxx.jpg'\n// img.onerror = function(event) {\n//     console.log(event)\n// }\n// 统计每个页面的JS和CSS加载时间\n\n{\n  /* <script>var cssLoadStart = +new Date</script>\n  <link rel=\"stylesheet\" href=\"xxx.css\" type=\"text/css\" media=\"all\">\n  <link rel=\"stylesheet\" href=\"xxx1.css\" type=\"text/css\" media=\"all\">\n  <link rel=\"stylesheet\" href=\"xxx2.css\" type=\"text/css\" media=\"all\">\n  <sript>\n    var cssLoadTime = (+new Date) - cssLoadStart\n    var jsLoadStart = +new Date\n  </script>\n  <script type=\"text/javascript\" src=\"xx1.js\"></script>\n  <script type=\"text/javascript\" src=\"xx2.js\"></script>\n  <script type=\"text/javascript\" src=\"xx3.js\"></script>\n  <script>\n    var jsLoadTime = (+new Date) - jsLoadStart\n    var REPORT_URL = 'xxx/cgi?data='\n    var img = new Image\n    img.onload = img.onerror = function(){\n       img = null\n    }\n    img.src = REPORT_URL + cssLoadTime + '-' + jsLoadTime\n  </script> */\n} // 监控图片错误\n// <img src=\"...\" onerror=\"noFind();\" />\n// function noFind(event){\n//     var img = event.srcElement;\n//     img.src = '...'  // 默认图片地址\n//     img.onerror = null;  // 控制不要循环展示错误\n// }\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/resourceError.js?");

/***/ }),

/***/ "./src/error/vueError.js":
/*!*******************************!*\
  !*** ./src/error/vueError.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/monitor.js */ \"./src/utils/monitor.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/config.js */ \"./src/utils/config.js\");\n\n\n\n\n/**\n * vue错误\n */\n\nvar VueError = /*#__PURE__*/function () {\n  function VueError(params) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, VueError);\n\n    this.params = params;\n  }\n  /**\n   * 处理Vue错误提示\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(VueError, [{\n    key: \"handleError\",\n    value: function handleError(Vue) {\n      var _this = this;\n\n      if (!Vue) {\n        return;\n      }\n\n      var data = {};\n\n      Vue.config.errorHandler = function (error, vm, info) {\n        try {\n          var message = error.message,\n              name = error.name,\n              script = error.script,\n              line = error.line,\n              column = error.column,\n              stack = error.stack;\n          data.msg = message;\n          data.name = name;\n          data.stack = stack || null;\n          data.resourceUrl = script || null; // 异常脚本url\n\n          data.line = line || null; // 异常行号\n\n          data.col = column || null; // 异常列号\n\n          var errs = stack.match(/\\(.+?\\)/);\n\n          if (errs && errs.length) {\n            errs = errs[0];\n            errs = errs.replace(/\\w.+[js|html]/g, function ($1) {\n              data.resourceUrl = $1;\n              return '';\n            });\n            errs = errs.split(':');\n\n            if (errs.length > 1) {\n              data.line = parseInt(errs[1] || null);\n              data.col = parseInt(errs[2] || null);\n            }\n          }\n\n          data.vueInfo = info;\n\n          if (Object.prototype.toString.call(vm) === '[object Object]') {\n            data.vueComponentName = vm._isVue ? vm.$options.name || vm.$options._componentTag : vm.name;\n            data.vuePropsData = vm.$options.propsData;\n          }\n\n          data.level = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].WARN;\n          data.category = _utils_config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].VUE_ERROR;\n          new _utils_monitor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_this.params).recordError(data);\n        } catch (error) {\n          console.log('vue错误异常：', error);\n        }\n      };\n    }\n  }]);\n\n  return VueError;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (VueError);\n\n//# sourceURL=webpack://Pmonitorjs/./src/error/vueError.js?");

/***/ }),

/***/ "./src/http/api.js":
/*!*************************!*\
  !*** ./src/http/api.js ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n * 数据持久化\n */\nvar API = /*#__PURE__*/function () {\n  function API(url) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, API);\n\n    this.url = url;\n  }\n  /**\n   * 上报信息 （默认方式）\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(API, [{\n    key: \"report\",\n    value: function report(data) {\n      if (!this.checkUrl(this.url)) {\n        console.log('上报信息url地址格式不正确,url=', this.url);\n        return;\n      }\n\n      this.sendInfo(data);\n    }\n    /**\n     * 发送消息\n     */\n\n  }, {\n    key: \"sendInfo\",\n    value: function sendInfo(data) {\n      try {\n        // var xhr = new XMLHttpRequest()\n        // xhr.open(\"POST\", this.url, true)\n        // //xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\")\n        // xhr.setRequestHeader(\"Content-Type\", \"application/json\")\n        // xhr.send(JSON.stringify(data))\n        navigator.sendBeacon(this.url, JSON.stringify(data));\n      } catch (error) {\n        console.log('发送消息出错：', error);\n      }\n    }\n    /**\n     * 通过img方式上报信息\n     */\n\n  }, {\n    key: \"reportByImg\",\n    value: function reportByImg(data) {\n      if (!this.checkUrl(this.url)) {\n        console.log('上报信息url地址格式不正确,url=', this.url);\n        return;\n      }\n\n      try {\n        var img = new Image();\n        img.src = \"\".concat(his.url, \"?v=\").concat(new Date().getTime(), \"&'\").concat(this.formatParams(data));\n      } catch (error) {\n        console.log('发送消息出错：', error);\n      }\n    }\n    /*\n     *格式化参数\n     */\n\n  }, {\n    key: \"formatParams\",\n    value: function formatParams(data) {\n      var arr = [];\n\n      for (var name in data) {\n        arr.push(\"\".concat(encodeURIComponent(name), \"=\").concat(encodeURIComponent(data[name])));\n      }\n\n      return arr.join('&');\n    }\n    /**\n     * 检测URL\n     */\n\n  }, {\n    key: \"checkUrl\",\n    value: function checkUrl(url) {\n      if (!url) {\n        return false;\n      }\n\n      var urlRule = /^[hH][tT][tT][pP]([sS]?):\\/\\//;\n      return urlRule.test(url);\n    }\n  }]);\n\n  return API;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (API);\n\n//# sourceURL=webpack://Pmonitorjs/./src/http/api.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _performance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./performance */ \"./src/performance/index.js\");\n/* harmony import */ var _utils_config_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/config.js */ \"./src/utils/config.js\");\n/* harmony import */ var _utils_captureClick_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/captureClick.js */ \"./src/utils/captureClick.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/utils.js */ \"./src/utils/utils.js\");\n/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error */ \"./src/error/index.js\");\n/*\n * @Author: zyj\n * @Date: 2020-12-22 14:49:47\n * @LastEditors: zyj\n * @LastEditTime: 2020-12-22 14:54:17\n * @Description: file content\n * @FilePath: /PFM-monitor/src/index.js\n */\n\n\n\n\n\nvar PmonitorJS = {\n  /**\n   * 监听页面性能\n   * @param {*} options {pageId：页面标示, url：上报地址, isPage：是否上报页面性能数据, isResource：是否上报页面资源数据}\n   */\n  monitorPerformance: _performance__WEBPACK_IMPORTED_MODULE_0__[\"monitorPerformance\"],\n  measure: _performance__WEBPACK_IMPORTED_MODULE_0__[\"measure\"],\n  init: function init(options) {\n    options = options || {};\n    var jsError = options.jsError || true;\n    var frameError = options.frameError || true;\n    var promiseError = options.promiseError || true;\n    var resourceError = options.resourceError || true;\n    var ajaxError = options.ajaxError || true;\n    var consoleError = options.consoleError || false;\n    var vueError = options.vueError || false;\n    var reportUrl = options.url || null; // 上报错误地址\n\n    var extendsInfo = options.extendsInfo || {}; //扩展信息（一般用于系统个性化分析）\n\n    var param = {\n      reportUrl: reportUrl,\n      extendsInfo: extendsInfo\n    };\n    var capture = {\n      captureClick: true,\n      captureMode: 2,\n      captureReportNum: 10\n    };\n\n    if (options.capture && _utils_utils_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].isString(options.capture)) {\n      capture.captureClick = options.capture;\n    } else if (options.capture) {\n      capture = options.capture;\n    }\n\n    var newCaptureClick = new _utils_captureClick_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](capture);\n    newCaptureClick.initCaptureClick();\n\n    if (jsError) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"JsError\"](param, newCaptureClick).handleError();\n    }\n\n    if (frameError) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"FrameError\"](param).handleError();\n    }\n\n    if (promiseError) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"PromiseError\"](param).handleError();\n    }\n\n    if (resourceError) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"ResourceError\"](param).handleError();\n    }\n\n    if (ajaxError) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"AjaxError\"](param).handleError(_utils_config_js__WEBPACK_IMPORTED_MODULE_1__[\"AjaxLibEnum\"].DEFAULT);\n    }\n\n    if (consoleError) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"ConsoleError\"](param).handleError();\n    }\n\n    if (vueError && options.vue) {\n      new _error__WEBPACK_IMPORTED_MODULE_4__[\"VueError\"](param).handleError(options.vue);\n    }\n  }\n};\nwindow.PmonitorJS = PmonitorJS;\n/* harmony default export */ __webpack_exports__[\"default\"] = (PmonitorJS);\n\n//# sourceURL=webpack://Pmonitorjs/./src/index.js?");

/***/ }),

/***/ "./src/performance/index.js":
/*!**********************************!*\
  !*** ./src/performance/index.js ***!
  \**********************************/
/*! exports provided: monitorPerformance, measure */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"monitorPerformance\", function() { return monitorPerformance; });\n/* harmony import */ var _performance_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./performance.js */ \"./src/performance/performance.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"measure\", function() { return _performance_js__WEBPACK_IMPORTED_MODULE_0__[\"measure\"]; });\n\n/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../device */ \"./src/device/index.js\");\n/* harmony import */ var tti_polyfill__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tti-polyfill */ \"./node_modules/tti-polyfill/tti-polyfill.js\");\n/* harmony import */ var tti_polyfill__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(tti_polyfill__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _http_api_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../http/api.js */ \"./src/http/api.js\");\n/* harmony import */ var _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/utils.js */ \"./src/utils/utils.js\");\n\n\n\n\n\n\nfunction monitorPerformance(options) {\n  tti_polyfill__WEBPACK_IMPORTED_MODULE_2___default.a.getFirstConsistentlyInteractive().then(function (tti) {\n    var isPage = options.isPage || true; // 是否上报页面性能数据\n\n    var isResource = options.isResource || true; // 是否上报页面资源数据\n\n    var config = {\n      resourceList: [],\n      // 资源列表\n      performance: {} // 页面性能列表\n\n    };\n\n    if (isPage) {\n      config.performance = Object(_performance_js__WEBPACK_IMPORTED_MODULE_0__[\"getTiming\"])();\n    }\n\n    if (isResource) {\n      config.resourceList = Object(_performance_js__WEBPACK_IMPORTED_MODULE_0__[\"getEntries\"])();\n    }\n\n    var params = {\n      time: new Date().getTime(),\n      performance: Object.assign(config.performance, {\n        tti: tti\n      }),\n      resourceList: config.resourceList,\n      markUser: _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].markUser(),\n      markUv: _utils_utils_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].markUv(),\n      pageId: options.pageId || '',\n      deviceInfo: _device__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getDeviceInfo()\n    };\n    console.log('report data =', params); // 发送监控数据\n\n    new _http_api_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](options.url).report(params);\n    Object(_performance_js__WEBPACK_IMPORTED_MODULE_0__[\"clearPerformance\"])();\n  });\n}\n\n\n\n//# sourceURL=webpack://Pmonitorjs/./src/performance/index.js?");

/***/ }),

/***/ "./src/performance/performance.js":
/*!****************************************!*\
  !*** ./src/performance/performance.js ***!
  \****************************************/
/*! exports provided: getTiming, getEntries, clearPerformance, measure, domReady, onLoad, resourceOnLoad */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTiming\", function() { return getTiming; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getEntries\", function() { return getEntries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearPerformance\", function() { return clearPerformance; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"measure\", function() { return measure; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"domReady\", function() { return domReady; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"onLoad\", function() { return onLoad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resourceOnLoad\", function() { return resourceOnLoad; });\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// 页面性能监控\nvar ttiTime = {}; // FP FCP longtask容器\n// FP FCP\n\nvar observerPaint = new PerformanceObserver(function (list) {\n  var _iterator = _createForOfIteratorHelper(list.getEntries()),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var entry = _step.value;\n      ttiTime[entry.name] = entry.startTime + entry.duration; // startTime启动时间 duration 执行时间\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n});\nobserverPaint.observe({\n  entryTypes: ['paint']\n}); // longtask\n// 长任务建议在空闲时执行 requestIdleCallback+webwork\n// 耗时较长的任务阻塞主线程(超过50ms)\n\nvar observerLongTask = new PerformanceObserver(function (list) {\n  var _iterator2 = _createForOfIteratorHelper(list.getEntries()),\n      _step2;\n\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var entry = _step2.value;\n      ttiTime[entry.name] = entry.startTime + entry.duration;\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n});\nobserverLongTask.observe({\n  entryTypes: ['longtask']\n});\n/**\n * 获取时间\n */\n\nfunction getTiming() {\n  try {\n    if (!window.performance || !window.performance.timing) {\n      console.log('你的浏览器不支持 performance 操作');\n      return;\n    }\n\n    var timing = window.performance.timing;\n    var times = {};\n    var loadTime = timing.loadEventEnd - timing.loadEventStart;\n\n    if (loadTime < 0) {\n      setTimeout(function () {\n        getTiming();\n      }, 200);\n      return;\n    } // 网络建立连接\n    // 上一个页面卸载总耗时\n\n\n    times.prevPage = timing.fetchStart - timing.navigationStart; // 上一个页面卸载\n\n    times.prevUnload = timing.unloadEventEnd - timing.unloadEventStart; //【重要】重定向的时间\n\n    times.redirectTime = timing.redirectEnd - timing.redirectStart; // DNS 缓存时间\n\n    times.appcacheTime = timing.domainLookupStart - timing.fetchStart; //【重要】DNS 查询时间\n    //【原因】DNS 预加载做了么？页面内是不是使用了太多不同的域名导致域名查询的时间太长？\n\n    times.dnsTime = timing.domainLookupEnd - timing.domainLookupStart; //【重要】读取页面第一个字节的时间\n    //【原因】这可以理解为用户拿到你的资源占用的时间，加异地机房了么，加CDN 处理了么？加带宽了么？加 CPU 运算速度了么？\n\n    times.ttfbTime = timing.responseStart - timing.navigationStart; // tcp连接耗时\n\n    times.tcpTime = timing.connectEnd - timing.connectStart; // 网络总耗时\n\n    times.network = timing.connectEnd - timing.navigationStart; // 网络接收数据\n    // 前端从发送请求到接收请求的时间\n\n    times.send = timing.responseStart - timing.requestStart; // 接收数据用时\n    //【原因】页面内容经过 gzip 压缩了么，静态资源 css/js 等压缩了么？\n\n    times.receive = timing.responseEnd - timing.responseStart; // 请求页面总耗时\n\n    times.request = timing.responseEnd - timing.requestStart; // 前端渲染\n    // 解析dom树耗时\n\n    times.analysisTime = timing.domComplete - timing.domInteractive; // timing.domLoading\n    //【重要】执行 onload 回调函数的时间\n    //【原因】是否太多不必要的操作都放到 onload 回调函数里执行了，考虑过延迟加载、按需加载的策略么？\n\n    times.onload = timing.loadEventEnd - timing.loadEventStart; // 前端总时间\n\n    times.frontend = timing.loadEventEnd - timing.domLoading; // 白屏时间\n\n    times.blankTime = timing.domLoading - timing.navigationStart; // domReadyTime(dom准备时间)\n\n    times.domReadyTime = timing.domContentLoadedEventEnd - timing.navigationStart; //【重要】页面加载完成的时间\n    //【原因】这几乎代表了用户等待页面可用的时间\n\n    times.loadPage = timing.loadEventEnd - timing.navigationStart; // 可操作时间\n\n    times.domIteractive = timing.domInteractive - timing.navigationStart;\n    var perfEntries = performance.getEntriesByType('mark');\n\n    var _iterator3 = _createForOfIteratorHelper(perfEntries),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var entry = _step3.value;\n        ttiTime[entry.name] = entry.startTime + entry.duration;\n        performance.clearMarks(entry.name);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return Object.assign(times, ttiTime);\n  } catch (e) {\n    console.log('获取performance出错:', e);\n  }\n}\n/**\n * 资源加载时间\n */\n\n\nfunction getEntries() {\n  if (!window.performance || !window.performance.getEntries) {\n    console.log('该浏览器不支持performance.getEntries方法');\n    return;\n  }\n\n  var entryTimesList = [];\n  var entryList = window.performance.getEntries();\n\n  if (!entryList || entryList.length == 0) {\n    return entryTimesList;\n  }\n\n  entryList.forEach(function (item) {\n    var templeObj = {};\n    var usefulType = ['script', 'css', 'fetch', 'xmlhttprequest', 'link', 'img']; // 'navigation'\n\n    if (usefulType.indexOf(item.initiatorType) > -1) {\n      // 请求资源路径\n      templeObj.name = item.name; // 发起资源类型\n\n      templeObj.initiatorType = item.initiatorType; // http协议版本\n\n      templeObj.nextHopProtocol = item.nextHopProtocol; // dns查询耗时\n\n      templeObj.dnsTime = item.domainLookupEnd - item.domainLookupStart; // tcp链接耗时\n\n      templeObj.tcpTime = item.connectEnd - item.connectStart; // 请求时间\n\n      templeObj.reqTime = item.responseEnd - item.responseStart; // 重定向时间\n\n      templeObj.redirectTime = item.redirectEnd - item.redirectStart;\n      entryTimesList.push(templeObj);\n    }\n  });\n  return entryTimesList;\n}\n\nfunction clearPerformance() {\n  if (window.performance && window.performance.clearResourceTimings) {\n    performance.clearResourceTimings();\n  }\n}\n/**\n * 获取函数运行时常\n */\n\n\nfunction measure(fn) {\n  // const startName = prefixStart(name)\n  // const endName = prefixEnd(name)\n  // performance.mark(startName)\n  var t0 = performance.now(); // await fn()\n\n  fn();\n  var t1 = performance.now(); // performance.mark(endName)\n  // 调用 measure\n  // performance.measure(name, startName, endName)\n  // const [{\n  //     duration\n  // }] = performance.getEntriesByName(name)\n  // performance.clearMarks(`${MARK_START}${name}`)\n  // performance.clearMarks(`${MARK_END}${name}`)\n  // performance.clearMeasures(name)\n\n  return t1 - t0;\n}\n/**\n * 分domReady和onLoad两个方法是因为有可能资源未全部加载完成就关闭了浏览器窗口\n */\n\n\nfunction domReady(callback) {\n  var Timer = null;\n\n  var check = function check() {\n    if (window.performance.timing.domInteractive) {\n      clearTimeout(Timer);\n      callback();\n    } else {\n      Timer = setTimeout(check, 100);\n    }\n  };\n\n  if (document.readyState === 'interactive') {\n    callback();\n    return;\n  }\n\n  document.addEventListener('DOMContentLoaded', function () {\n    check();\n  });\n}\n\nfunction onLoad(callback) {\n  var Timer = null;\n\n  var check = function check() {\n    if (window.performance.timing.loadEventEnd) {\n      clearTimeout(Timer);\n      callback();\n    } else {\n      Timer = setTimeout(check, 100);\n    }\n  }; // 资源都加载完成\n\n\n  if (document.readyState === 'complete') {\n    callback();\n    return;\n  }\n\n  window.addEventListener('load', function () {\n    check();\n  }, false);\n}\n/**\n * 资源加载完毕\n */\n\n\nfunction resourceOnLoad(cb) {\n  // 资源都加载完成\n  if (document.readyState === 'complete') {\n    cb();\n    return;\n  }\n\n  window.addEventListener('load', function () {\n    cb();\n  }, false);\n}\n\n // performance.now()\n// const t0 = performance.now()\n// for (let i = 0; i < array.length; i++) {\n//      some code\n// }\n// const t1 = performance.now()\n// console.log(t1 - t0, 'milliseconds')\n// console.time('test')\n// console.time('test')\n// for (let i = 0; i < array.length; i++) {\n//   // some code\n// }\n// console.timeEnd('test')\n\n//# sourceURL=webpack://Pmonitorjs/./src/performance/performance.js?");

/***/ }),

/***/ "./src/utils/captureClick.js":
/*!***********************************!*\
  !*** ./src/utils/captureClick.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _http_api_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../http/api.js */ \"./src/http/api.js\");\n\n\n\n/**\n * \n * @param {url} url  异步加载js\n */\n\nvar insertJs = function insertJs() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  return new Promise(function (resolve, reject) {\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    document.querySelector('head').appendChild(script);\n\n    script.onload = function () {\n      resolve();\n    };\n\n    script.onerror = function () {\n      reject('js加载失败');\n    };\n  });\n};\n\nvar CaptureClick = /*#__PURE__*/function () {\n  function CaptureClick() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, CaptureClick);\n\n    this.captureClick = params.captureClick || false; // 是否录屏，只录制点击区域\n\n    this.captureMode = params.captureMode || 1; // 截屏模式 1-最小区域 2 - 整屏，\n\n    this.captureReportNum = params.captureReportNum || 1; // 截屏上报个数(最多10个)\n\n    this.capturedDoms = [];\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(CaptureClick, [{\n    key: \"initCaptureClick\",\n    value: function initCaptureClick() {\n      var _self = this;\n\n      if (!_self.captureClick) return;\n      window.addEventListener('click', function (e) {\n        var pathTemp = Array.from(e.path); // html2canvas截取目标只能是document内的dom，所以需要移除window和document\n\n        pathTemp.pop(); // 移除window\n\n        pathTemp.pop(); // 移除document\n\n        if (_self.capturedDoms.length >= 10) {\n          _self.capturedDoms.pop(); // 抛出最后一个\n\n        } //录屏模式 1- 最小 2- 全屏\n\n\n        var path = _self.captureMode === 1 ? pathTemp[0] : pathTemp[pathTemp.length - 1];\n\n        _self.capturedDoms.unshift(path); // 插入最前面\n\n      }, true); // 捕获模式\n    }\n    /**\n     * 录屏上报\n     * @param options {url: 上报链接 id: 错误id}\n     */\n\n  }, {\n    key: \"reportCaptureImage\",\n    value: function reportCaptureImage(options) {\n      var _this = this;\n\n      if (!this.captureClick) {\n        return;\n      } // 上报录屏个数合法性检查\n\n\n      this.captureReportNum = this.captureReportNum > 10 ? 10 : this.captureReportNum;\n      this.captureReportNum = this.captureReportNum <= 0 ? 1 : this.captureReportNum;\n      var tobeReport = this.capturedDoms.slice(0, this.captureReportNum) || []; // 从cdn上动态插入\n\n      if (window.html2canvas) {\n        if (tobeReport.length) {\n          this.dom2img(tobeReport, options);\n        }\n      } else {\n        insertJs(\"//unpkg.com/html2canvas@1.0.0-alpha.12/dist/html2canvas.min.js\").then(function () {\n          if (tobeReport.length && window.html2canvas) {\n            _this.dom2img(tobeReport, options);\n          }\n        })[\"catch\"](function (error) {\n          console.log('录屏失败：', error);\n        });\n      }\n    }\n  }, {\n    key: \"dom2img\",\n    value: function dom2img() {\n      var doms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var options = arguments.length > 1 ? arguments[1] : undefined;\n      // 压缩图片地址\n      var compressedUrlList = [];\n\n      if (window.LZString && LZString.compress) {\n        doms.forEach(function (dom, index) {\n          html2canvas(dom).then(function (canvas) {\n            var imageUrl = canvas.toDataURL(\"image/png\");\n            compressedUrlList[index] = LZString.compress(imageUrl);\n            console.log('截屏压缩图片文件地址：', compressedUrlList[index]);\n          });\n        }); // new API(options.url).report({compressedUrlList, getErrorId: options.getErrorId})\n      } else {\n        insertJs('//unpkg.com/lz-string@1.4.4/libs/lz-string.js').then(function () {\n          doms.forEach(function (dom, index) {\n            html2canvas(dom).then(function (canvas) {\n              var imageUrl = canvas.toDataURL(\"image/png\");\n              compressedUrlList[index] = LZString.compress(imageUrl);\n              console.log('截屏压缩图片文件地址：', compressedUrlList[index]);\n            });\n          }); // new API(options.url).report({compressedUrlList, getErrorId: options.getErrorId})\n        })[\"catch\"](function (error) {\n          console.log('压缩图片失败：', error);\n        });\n      }\n    }\n  }]);\n\n  return CaptureClick;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CaptureClick);\n\n//# sourceURL=webpack://Pmonitorjs/./src/utils/captureClick.js?");

/***/ }),

/***/ "./src/utils/config.js":
/*!*****************************!*\
  !*** ./src/utils/config.js ***!
  \*****************************/
/*! exports provided: ErrorCategoryEnum, ErrorLevelEnum, AjaxLibEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ErrorCategoryEnum\", function() { return ErrorCategoryEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ErrorLevelEnum\", function() { return ErrorLevelEnum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AjaxLibEnum\", function() { return AjaxLibEnum; });\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n/**\n * 错误类型枚举\n */\nvar ErrorCategoryEnum = /*#__PURE__*/function () {\n  function ErrorCategoryEnum() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ErrorCategoryEnum);\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ErrorCategoryEnum, null, [{\n    key: \"JS_ERROR\",\n\n    /**\n     * js 错误\n     */\n    get: function get() {\n      return 'js_error';\n    }\n    /**\n     * js 错误\n     */\n\n  }, {\n    key: \"IFRAME_ERROR\",\n    get: function get() {\n      return 'iframe_error';\n    }\n    /**\n     * 资源引用错误\n     */\n\n  }, {\n    key: \"RESOURCE_ERROR\",\n    get: function get() {\n      return 'resource_error';\n    }\n    /**\n     * Vue错误\n     */\n\n  }, {\n    key: \"VUE_ERROR\",\n    get: function get() {\n      return 'vue_error';\n    }\n    /**\n     * promise 错误\n     */\n\n  }, {\n    key: \"PROMISE_ERROR\",\n    get: function get() {\n      return 'promise_error';\n    }\n    /**\n     * ajax异步请求错误\n     */\n\n  }, {\n    key: \"AJAX_ERROR\",\n    get: function get() {\n      return 'ajax_error';\n    }\n    /**\n     * 控制台错误console.info\n     */\n\n  }, {\n    key: \"CONSOLE_INFO\",\n    get: function get() {\n      return 'console_info';\n    }\n    /**\n     * 控制台错误console.warn\n     */\n\n  }, {\n    key: \"CONSOLE_WARN\",\n    get: function get() {\n      return 'console_warn';\n    }\n    /**\n     * 控制台错误console.error\n     */\n\n  }, {\n    key: \"CONSOLE_ERROR\",\n    get: function get() {\n      return 'console_error';\n    }\n    /**\n     * 跨域js错误\n     */\n\n  }, {\n    key: \"CROSS_SCRIPT_ERROR\",\n    get: function get() {\n      return 'cross_srcipt_error';\n    }\n    /**\n     * 未知异常\n     */\n\n  }, {\n    key: \"UNKNOW_ERROR\",\n    get: function get() {\n      return 'unknow_error';\n    }\n  }]);\n\n  return ErrorCategoryEnum;\n}();\n/**\n * 错误level枚举\n */\n\nvar ErrorLevelEnum = /*#__PURE__*/function () {\n  function ErrorLevelEnum() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, ErrorLevelEnum);\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(ErrorLevelEnum, null, [{\n    key: \"ERROR\",\n\n    /**\n     * 错误信息\n     */\n    get: function get() {\n      return 'Error';\n    }\n    /**\n     * 警告信息\n     */\n\n  }, {\n    key: \"WARN\",\n    get: function get() {\n      return 'Warning';\n    }\n    /**\n     * 日志信息\n     */\n\n  }, {\n    key: \"INFO\",\n    get: function get() {\n      return 'Info';\n    }\n  }]);\n\n  return ErrorLevelEnum;\n}();\n/**\n * Ajax库枚举\n */\n\nvar AjaxLibEnum = /*#__PURE__*/function () {\n  function AjaxLibEnum() {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, AjaxLibEnum);\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(AjaxLibEnum, null, [{\n    key: \"AJAX\",\n    get: function get() {\n      return 'ajax';\n    }\n  }, {\n    key: \"FETCH\",\n    get: function get() {\n      return 'fetch';\n    }\n  }, {\n    key: \"DEFAULT\",\n    get: function get() {\n      return 'default';\n    }\n  }]);\n\n  return AjaxLibEnum;\n}();\n\n//# sourceURL=webpack://Pmonitorjs/./src/utils/config.js?");

/***/ }),

/***/ "./src/utils/monitor.js":
/*!******************************!*\
  !*** ./src/utils/monitor.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/createClass.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config.js */ \"./src/utils/config.js\");\n/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../device */ \"./src/device/index.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ \"./src/utils/utils.js\");\n/* harmony import */ var _taskQueue_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./taskQueue.js */ \"./src/utils/taskQueue.js\");\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n/**\n * 监控基类\n */\n\nvar Monitor = /*#__PURE__*/function () {\n  /**\n   * 上报错误地址\n   * @param {*} params { reportUrl,extendsInfo }\n   */\n  function Monitor(params, newCaptureClick) {\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, Monitor);\n\n    this.reportUrl = params.reportUrl; // 上报错误地址\n\n    this.extendsInfo = params.extendsInfo; // 扩展信息\n\n    this.newCaptureClick = newCaptureClick;\n  }\n  /**\n   * 记录错误信息\n   * @params 错误参数\n   */\n\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(Monitor, [{\n    key: \"recordError\",\n    value: function recordError(params) {\n      this.handleRecordError(params); //延迟记录日志\n\n      setTimeout(function () {\n        _taskQueue_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].fire();\n      }, 100);\n    }\n    /**\n     * 处理记录日志\n     */\n\n  }, {\n    key: \"handleRecordError\",\n    value: function handleRecordError(params) {\n      try {\n        if (!params.msg) {\n          return;\n        } //过滤掉错误上报地址\n\n\n        if (this.reportUrl && this.url && this.url.toLowerCase().indexOf(this.reportUrl.toLowerCase()) >= 0) {\n          console.log('统计错误接口异常', params.msg);\n          return;\n        }\n\n        var errorInfo = this.handleErrorInfo(params);\n        console.log('\\n````````````````````` ' + params.category + ' `````````````````````\\n', errorInfo); //记录日志\n\n        _taskQueue_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].add(this.reportUrl, errorInfo);\n      } catch (error) {\n        console.log('添加日志记录失败：', error);\n      }\n    }\n    /**\n     * 处理错误信息\n     * @param {*} extendsInfo \n     */\n\n  }, {\n    key: \"handleErrorInfo\",\n    value: function handleErrorInfo(params) {\n      var deviceInfo = this.getDeviceInfo();\n      var extendsInfo = this.getExtendsInfo();\n      var recordInfo = {\n        getErrorId: _utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].randomString(),\n        url: params.url || location.href,\n        // 错误信息地址\n        category: params.category || null,\n        // 错误分类\n        logType: params.level || _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorLevelEnum\"].INFO,\n        // 错误级别\n        msg: params.msg || null,\n        // 错误信息\n        deviceInfo: deviceInfo,\n        // 设备信息 \n        time: new Date().getTime() // 错误时间\n\n      };\n      Object.assign(recordInfo, extendsInfo);\n      var txt = \"\\u9519\\u8BEF\\u7C7B\\u522B: \".concat(params.category, \"\\r\\n\");\n      txt += \"\\u65E5\\u5FD7\\u4FE1\\u606F: \".concat(params.msg, \"\\r\\n\");\n      txt += \"URL: \".concat(params.url, \"\\r\\n\");\n\n      switch (params.category) {\n        case _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].JS_ERROR:\n          recordInfo.name = params.name || null; // 错误名\n\n          recordInfo.type = params.type || null; // js错误类型\n\n          recordInfo.line = params.line || null; // 行数\n\n          recordInfo.col = params.col || null; // 列数\n\n          recordInfo.stack = params.stack || null; // 错误堆栈\n\n          txt += \"\\u9519\\u8BEF\\u884C\\u53F7: \".concat(recordInfo.line, \"\\r\\n\");\n          txt += \"\\u9519\\u8BEF\\u5217\\u53F7: \".concat(recordInfo.col, \"\\r\\n\");\n\n          if (recordInfo.stack) {\n            txt += \"\\u9519\\u8BEF\\u6808: \".concat(recordInfo.stack, \"\\r\\n\");\n          }\n\n          this.newCaptureClick.reportCaptureImage({\n            getErrorId: recordInfo.getErrorId,\n            url: this.reportUrl\n          });\n          break;\n\n        case _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].IFRAME_ERROR:\n          recordInfo.name = params.name || null; // 错误名\n\n          recordInfo.type = params.type || null; // js错误类型\n\n          recordInfo.line = params.line || null; // 行数\n\n          recordInfo.col = params.col || null; // 列数\n\n          recordInfo.stack = params.stack || null; // 错误堆栈\n\n          txt += \"\\u9519\\u8BEF\\u884C\\u53F7: \".concat(recordInfo.line, \"\\r\\n\");\n          txt += \"\\u9519\\u8BEF\\u5217\\u53F7: \".concat(recordInfo.col, \"\\r\\n\");\n\n          if (recordInfo.stack) {\n            txt += \"\\u9519\\u8BEF\\u6808: \".concat(recordInfo.stack, \"\\r\\n\");\n          }\n\n          break;\n\n        case _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].AJAX_ERROR:\n          recordInfo.request = params.request || {};\n          recordInfo.response = params.response || {};\n          recordInfo.responseTime = params.responseTime || null;\n          break;\n\n        case _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].PROMISE_ERROR:\n          recordInfo.resourceUrl = params.resourceUrl || null;\n          recordInfo.line = params.line || null;\n          recordInfo.col = params.col || null;\n          recordInfo.responseTime = params.responseTime || null;\n          break;\n\n        case _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].RESOURCE_ERROR:\n          recordInfo.resourceUrl = params.resourceUrl || null;\n          break;\n\n        case _config_js__WEBPACK_IMPORTED_MODULE_3__[\"ErrorCategoryEnum\"].VUE_ERROR:\n          recordInfo.vueInfo = params.vueInfo || null;\n          recordInfo.name = params.name || null; // 错误名\n\n          recordInfo.resourceUrl = params.resourceUrl || null;\n          recordInfo.vueComponentName = params.vueComponentName || null;\n          recordInfo.vuePropsData = params.vuePropsData || null;\n          recordInfo.line = params.line || null; // 行数\n\n          recordInfo.col = params.col || null; // 列数\n\n          recordInfo.stack = params.stack || null; // 错误堆栈\n\n          txt += \"\\u9519\\u8BEF\\u884C\\u53F7: \".concat(recordInfo.line, \"\\r\\n\");\n          txt += \"\\u9519\\u8BEF\\u5217\\u53F7: \".concat(recordInfo.col, \"\\r\\n\");\n\n          if (params.stack) {\n            txt += \"\\u9519\\u8BEF\\u6808: \".concat(recordInfo.stack, \"\\r\\n\");\n          }\n\n          break;\n\n        default:\n          if (params.errorObj && !_utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].objectIsNull(params.errorObj)) {\n            txt += \"\\u5176\\u4ED6\\u9519\\u8BEF: \".concat(JSON.stringify(params.errorObj), \"\\r\\n\");\n          }\n\n          break;\n      }\n\n      txt += \"\\u8BBE\\u5907\\u4FE1\\u606F: \".concat(deviceInfo); // 设备信息 \n\n      recordInfo.logInfo = txt; // 错误信息详细\n\n      return recordInfo;\n    }\n    /**\n     * 获取扩展信息\n     */\n\n  }, {\n    key: \"getExtendsInfo\",\n    value: function getExtendsInfo() {\n      try {\n        var ret = {};\n        var extendsInfo = this.extendsInfo || {};\n        var dynamicParams;\n\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isFunction(extendsInfo.getDynamic)) {\n          dynamicParams = extendsInfo.getDynamic(); // 获取动态参数\n        } // 判断动态方法返回的参数是否是对象\n\n\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isObject(dynamicParams)) {\n          extendsInfo = _objectSpread(_objectSpread({}, extendsInfo), dynamicParams);\n        } // 遍历扩展信息，排除动态方法\n\n\n        for (var key in extendsInfo) {\n          if (!_utils_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isFunction(extendsInfo[key])) {\n            // 排除获取动态方法\n            ret[key] = extendsInfo[key];\n          }\n        }\n\n        return ret;\n      } catch (error) {\n        console.log('获取扩展信息失败：', error);\n        return {};\n      }\n    }\n    /**\n     * 获取设备信息\n     */\n\n  }, {\n    key: \"getDeviceInfo\",\n    value: function getDeviceInfo() {\n      try {\n        var deviceInfo = _device__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getDeviceInfo();\n        return JSON.stringify(deviceInfo);\n      } catch (error) {\n        console.log(error);\n        return '';\n      }\n    }\n  }]);\n\n  return Monitor;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Monitor);\n\n//# sourceURL=webpack://Pmonitorjs/./src/utils/monitor.js?");

/***/ }),

/***/ "./src/utils/taskQueue.js":
/*!********************************!*\
  !*** ./src/utils/taskQueue.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _http_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../http/api.js */ \"./src/http/api.js\");\n\n/**\n * 消息队列\n */\n\nvar TaskQueue = {\n  queues: [],\n  // 待处理消息列表\n\n  /**\n   * 添加消息\n   * @param {*} reportUrl 上报url\n   * @param {*} data 上报数据\n   */\n  add: function add(reportUrl, data) {\n    this.queues.push({\n      reportUrl: reportUrl,\n      data: data\n    });\n  },\n\n  /**\n   * 统一上报\n   */\n  fire: function fire() {\n    if (!this.queues || this.queues.length === 0) {\n      return;\n    }\n\n    var item = this.queues[0];\n    item.reportUrl && new _http_api_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](item.reportUrl).report(item.data);\n    this.queues.splice(0, 1);\n    this.fire(); // 递归\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (TaskQueue);\n\n//# sourceURL=webpack://Pmonitorjs/./src/utils/taskQueue.js?");

/***/ }),

/***/ "./src/utils/utils.js":
/*!****************************!*\
  !*** ./src/utils/utils.js ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ \"./node_modules/@babel/runtime/helpers/defineProperty.js\");\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar _ = {};\n['Function', 'String', 'Object', 'Number', 'Boolean', 'Arguments'].forEach(function (name) {\n  _['is' + name] = function (obj) {\n    return toString.call(obj) === '[object ' + name + ']';\n  };\n});\n/* harmony default export */ __webpack_exports__[\"default\"] = (_objectSpread(_objectSpread({}, _), {}, {\n  type: function type(obj) {\n    return Object.prototype.toString.call(obj).replace(/\\[object\\s|\\]/g, '');\n  },\n\n  /**\n   * 是否为null\n   * @param {String} str \n   */\n  isNull: function isNull(str) {\n    return str == undefined || str == '' || str == null;\n  },\n\n  /**\n   * 对象是否为空\n   * @param {*} obj \n   */\n  objectIsNull: function objectIsNull(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  /**\n   * 生成随机数\n   */\n  randomString: function randomString(len) {\n    len = len || 10;\n    var $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz123456789';\n    var maxPos = $chars.length;\n    var pwd = '';\n\n    for (var i = 0; i < len; i++) {\n      pwd = pwd + $chars.charAt(Math.floor(Math.random() * maxPos));\n    }\n\n    return pwd + new Date().getTime();\n  },\n\n  /**\n   * 获得markpage\n   */\n  markUser: function markUser() {\n    var psMarkUser = sessionStorage.getItem('ps_markUser') || '';\n\n    if (!psMarkUser) {\n      psMarkUser = this.randomString();\n      sessionStorage.setItem('ps_markUser', psMarkUser);\n    }\n\n    return psMarkUser;\n  },\n\n  /**\n   * 获得Uv\n   */\n  markUv: function markUv() {\n    var date = new Date();\n    var psMarkUv = localStorage.getItem('ps_markUv') || '';\n    var dataTime = localStorage.getItem('ps_markUvTime') || '';\n    var today = \"\".concat(date.getFullYear(), \"/\").concat(date.getMonth() + 1, \"/\").concat(date.getDate(), \" 23:59:59\");\n\n    if (!psMarkUv && !dataTime || date.getTime() > dataTime * 1) {\n      psMarkUv = this.randomString();\n      localStorage.setItem('ps_markUv', psMarkUv);\n      localStorage.setItem('ps_markUvTime', new Date(today).getTime());\n    }\n\n    return psMarkUv;\n  }\n}));\n\n//# sourceURL=webpack://Pmonitorjs/./src/utils/utils.js?");

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./src/index.js */\"./src/index.js\");\n\n\n//# sourceURL=webpack://Pmonitorjs/multi_./src/index.js?");

/***/ })

/******/ });
});